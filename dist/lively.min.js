function Animator(u,i){this.animation=u,this.duration=i,this.isPlaying=void 0,this.animationFrame=void 0,this.targetPropertyKeys=void 0,this.startProperties=void 0,this.startTime=void 0,this.play=function(){"string"==typeof this.animation.target&&(this.animation.target=document.querySelectorAll(this.animation.target)),this.targetPropertyKeys=function(t){var i=[];for(var a in t)if(t.hasOwnProperty(a)&&("target"!==(r=a)&&"update"!==r&&"ease"!==r&&"done"!==r)){var n=e(t.target,a);n?i.push(a):delete t[a]}var r;return i}(u),this.startProperties=function(t,a){var n={};s(a.target)?t.forEach(function(t){for(var i=0;i<a.target.length;i++)n[i]={},a.target[i].style?n[i][t]=a.target[i].style[t]:n[i][t]=a.target[i][t]}):a.target.style?t.forEach(function(t){n[t]=a.target.style[t]}):t.forEach(function(t){n[t]=a.target[t]});return n}(this.targetPropertyKeys,this.animation),this.animationFrame=requestAnimationFrame(this.animate),this.isPlaying=!0},this.stop=function(){this.isPlaying=!1,this.animationFrame&&cancelAnimationFrame(this.animationFrame)},this.animate=function(t){this.startTime||(this.startTime=t);var n=t-this.startTime;if(s(this.animation.target)?this.animation.target.constructor===Array?this.targetPropertyKeys.forEach(function(t){for(var i=0;i<this.animation.target.length;i++)this.animation.target[i][t]=r(n,t,this.duration,this.startProperties[i][t],this.animation.ease)}.bind(this)):this.animation.target.constructor===NodeList&&this.targetPropertyKeys.forEach(function(t){for(var i=0;i<this.animation.target.length;i++){var a=h(t,this.startProperties[i][t]);u.target[i].style[t]=o(t,r(n,t,this.duration,a,this.animation.ease))}}.bind(this)):this.animation.target.style?this.targetPropertyKeys.forEach(function(t){var i=h(t,this.startProperties[t]);this.animation.target.style[t]=o(t,r(n,t,this.duration,i,this.animation.ease))}.bind(this)):this.targetPropertyKeys.forEach(function(t){this.animation.target[t]=r(n,t,this.duration,this.startProperties[t],this.animation.ease)}.bind(this)),i<=n){if(this.stop(),this.animation.update){var a=[];this.targetPropertyKeys.forEach(function(t){var i={};i[t]=this.animation.target[t],a.push(i)}.bind(this)),this.animation.update(a)}this.animation.done&&this.animation.done()}else requestAnimationFrame(this.animate)}.bind(this);var r=function(t,i,a,n,r){var e,s=n,o=u[i],h=o-n;if(e=a<=t?o:r?r(t,s,h,a):linearTween(t,s,h,a),this.animation.update){var c={};c[i]=e,this.animation.update([c])}return e}.bind(this);function n(t,i){return t&&t.hasOwnProperty(i)||t.style&&t.style.hasOwnProperty(i)}function e(t,i){if(t.constructor===Object)return n(t,i);if(t.constructor===NodeList){for(var a=0;a<t.length;a++)if(!n(t[a],i))return!1;return!0}return t.every(function(t){return n(t,i)})}function s(t){return t.constructor===Array||t.constructor===NodeList}function o(t,i){switch(t){case"opacity":return parseFloat(i);case"height":case"width":case"left":case"top":case"right":case"bottom":return parseInt(i)+"px"}}function h(t,i){switch(t){case"opacity":return parseFloat(i);case"height":case"width":case"left":case"top":case"right":case"bottom":return parseInt(i,10)}}}function linearTween(t,i,a,n){return a*(t/n)+i}function easeInQuadTween(t,i,a,n){var r=t/n;return a*(r=Math.pow(r,2))+i}function easeInElastic(t,i,a,n){var r=1.70158,e=0,s=a;return 0===t?i:1==(t/=n)?i+a:(e||(e=.3*n),s<Math.abs(a)?(s=a,r=e/4):r=e/(2*Math.PI)*Math.asin(a/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/e)+i)}function Lively(t,i){this.animator=new Animator(t,i),this.play=function(){this.animator.play()},this.stop=function(){this.animator.stop()}}